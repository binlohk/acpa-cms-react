{"version":3,"sources":["contexts/UserContext.js","services/api/axiosHelper.js","services/authService.js","assets/images/KL-logo.png","assets/images/KL-logo-name.png","modules/layout/header.js","hooks/useSidebar.js","modules/layout/UserLayout.js","services/PrivateRoute.js","services/AuthRoute.js","modules/utilComponents/Button.js","modules/auth/components/LoginForm/index.js","modules/auth/components/SignupForm/index.js","modules/landingPage/components/Home/index.js","modules/lesson/components/LessonPage/lessonCards.js","modules/course/components/courseMaterials.js","services/stripe.js","modules/utilComponents/BuyButton.js","modules/course/components/CourseOverview/course.js","modules/course/components/AllCourses/AllCourseCard.js","modules/course/components/AllCourses/CourseTitle.js","modules/utilComponents/SearchBar.js","modules/course/components/AllCourses/AllCoursesIntro.js","modules/course/components/AllCourses/RecommendedCourseCard.js","modules/course/components/AllCourses/Pagination.js","modules/course/components/AllCourses/RecommendedCourseCardCarousel.js","modules/utilComponents/LoadingSpinner.js","modules/course/components/AllCourses/AllCourses.js","modules/course/components/AllCourses/MyCourseCard.js","modules/course/components/AllCourses/MyCourses.js","modules/lesson/components/LessonPage/LessonStepper.js","modules/lesson/components/LessonPage/Lesson.js","modules/user/components/UserProfile/referralList.js","modules/user/components/OwnedCourse/index.js","modules/user/components/UserProfile/index.js","modules/404/components/404page.js","modules/course/components/Payment/PaymentSuccess.js","modules/course/components/Payment/PaymentFailure.js","modules/utilComponents/ErrorAlert/index.js","modules/auth/components/ResetPassword/index.js","modules/auth/components/ForgotPassword/index.js","App.js","index.js"],"names":["UserContext","createContext","httpClient","axios","create","baseURL","process","interceptors","request","use","config","token","getToken","headers","Authorization","storeToken","localStorage","setItem","storeUser","user","id","username","email","getUser","getItem","_checkExpiry","_checkRefresh","decodedPayload","jwt","decode","currentTime","Date","now","exp","a","post","res","data","get","loginUser","customStyles","offset","backgroundColor","color","Header","useContext","useState","open","setOpen","useSidebar","setOffset","handleLogout","clear","window","location","href","useEffect","onscroll","pageYOffset","removeEventListener","className","style","to","src","Logo","alt","LogoName","Button","aria-hidden","onClick","show","as","Fragment","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","Panel","focus","static","UserLayout","children","background","PrivateRoute","props","then","Component","component","rest","render","AuthRoute","textColor","hoverColor","onClickMethod","buttonText","borderRadius","disabled","type","LoginForm","loginError","setLoginError","snackbarContent","setSnackbarContent","referralToken","match","params","formik","useFormik","initialValues","password","validationSchema","Yup","required","min","validateOnBlur","onSubmit","values","Object","keys","errors","length","identifier","response","console","log","checkReferrer","result","referrerData","class","SnackbarContent","message","name","placeholder","value","onChange","handleChange","touched","handleSubmit","SignupForm","signupError","setSignupError","openSnackbar","setOpenSnackbar","index","useStyles","makeStyles","theme","lessonTextContainer","display","flexWrap","lessonText","LessonCards","lessonsDetail","map","lesson","ind","finished","title","text","CourseMaterials","courseMaterials","purchased","handleClick","event","courseMaterial","material","url","materialUrl","materialDescription","variant","stripePromise","loadStripe","handleBuy","courseId","stripe","reqObj","session","redirectToCheckout","sessionId","sessionID","BuyButton","marginTop","currencyFormatter","require","paper","width","padding","spacing","tab","wrapper","flexDirection","alignItems","justifyContent","gap","container","border","indicator","selected","fontWeight","TabPanel","other","role","hidden","aria-labelledby","Box","p","Typography","a11yProps","Course","classes","courseData","setCourseData","setValue","fetchCourseData","history","push","updateLessonProgress","lessonId","isFinished","route","delete","price","Tabs","newValue","aria-label","indicatorColor","flexContainer","TabIndicatorProps","height","Tab","icon","label","description","format","code","progressHandler","AllCourseCard","image","filteredCourseLength","substring","CourseTitle","SearchBar","onSearchChange","AllCoursesIntro","numberOfCourses","borderColor","RecommendedCourseCard","indexChecking","Pagination","currentPage","setCurrentPage","pageCount","handlePageClick","handleFilteredPageClick","pageFilteredCount","pageRangeDisplayed","previousLabel","nextLabel","SwiperCore","Navigation","RecommendedCourseCardCarousel","slidesPerView","slidesPerGroup","spaceBetween","loop","loopFillGroupWithBlank","navigation","LoadingSpinner","usePromiseTracker","promiseInProgress","AllCourses","courses","setCourses","featuredCourses","setFeaturedCourses","searchfield","setSearchfield","filteredCourses","setFilteredCourses","filtered","filter","course","toLowerCase","includes","fetchUserCourses","featured","item","trackPromise","setPageCount","currentPageData","setCurrentPageData","pageData","slice","Math","ceil","currentFilteredPage","setCurrentFilteredPage","setFilteredPageCount","currentFilteredPageData","setFilteredCurrentPageData","e","target","selectedPage","key-","MyCourseCard","MyCourses","purchasedCourses","setPurchasedCourses","LessonStepper","useHistory","useTheme","activeStep","findIndex","maxSteps","MobileStepper","steps","position","nextButton","size","oneIndexedStep","direction","backButton","list","marginRight","overflow","itemRed","divider","margin","withRouter","lessonData","setLessonData","fetchLessonData","courseResult","dbIsLessonFinished","handleEnd","videoUrl","video","playerOptions","autoplay","flexBasis","onEnd","lessonDescription","List","ListItem","ListItemText","listActive","primary","videoDuration","ListItemIcon","Checkbox","edge","checked","disableRipple","Divider","root","accountCircleIcon","dateIcon","ReferralList","referreeData","setReferreeData","setReferrerData","fetchReferralData","referrees","referral_referree","referrers","referral","key","referral_referrer","updated_at","schoolIcon","OwnedCourse","published_at","copyableLink","hoverEffect","cursor","registerLink","copyButton","transform","input","UserProfile","userProfile","setUserProfile","currentFormData","setFormData","fetchUserData","referralURL","handlePicSelect","formData","FormData","append","files","handleCopyLink","preventDefault","navigator","clipboard","writeText","profilePicture","imgDiv","accept","multiple","created_at","flexItem","orientation","point","Membership","FormControl","FileCopy","PageNotFound","PaymentSuccess","search","useLocation","session_id","queryString","parse","setData","ifSessionIdValid","setIfSessionIdValid","fetchPaidCourse","Avatar","PaymentFailure","setTitle","fetchCourse","ErrorAlert","ResetPassword","resetPasswordToken","backendError","setBackendError","messages","onFocus","ForgotPassword","emailAlert","setEmailAlert","status","App","Provider","exact","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a2931789.chunk.js","sourcesContent":["import { createContext } from 'react';\n\n//set initial value of user to null (pre-login)\nexport const UserContext = createContext(null);","import axios from \"axios\";\nimport { getToken, storeToken, storeUser } from '../../services/authService'\n\nexport const httpClient = axios.create({\n    baseURL: process.env.REACT_APP_BACKEND_SERVER,\n});\nhttpClient.interceptors.request.use(function (config) {\n    const token = getToken()\n    config.headers.Authorization = token ? `Bearer ${token}` : '';\n    return config;\n});\n\n\n","import jwt from 'jsonwebtoken'\nimport { httpClient } from './api/axiosHelper'\nimport axios from 'axios'\n\nexport const storeToken = (token) => {\n  localStorage.setItem('accessToken', token)\n}\n\nexport const storeUser = (user) => {\n  localStorage.setItem('id', user.id)\n  localStorage.setItem('username', user.username)\n  localStorage.setItem('email', user.email)\n}\n\nexport const getUser = () => {\n  return {\n    id: localStorage.getItem('id'),\n    username: localStorage.getItem('username'),\n    email: localStorage.getItem('email'),\n  }\n}\n\nexport const getToken = () => {\n  if (_checkExpiry()) {\n    _checkRefresh()\n  }\n  const token = localStorage.getItem('accessToken')\n  return token\n}\n\nexport const removeToken = () => {\n  localStorage.clear();\n}\n\nconst _checkExpiry = () => {\n  const token = localStorage.getItem('accessToken')\n  const decodedPayload = jwt.decode(token);\n  const currentTime = Date.now() / 1000\n  return decodedPayload.exp === currentTime;\n}\n\nconst _checkRefresh = async () => {\n  const token = localStorage.getItem('accessToken')\n  const res = await axios.post(`${process.env.REACT_APP_BACKEND_SERVER}/users-permissions/refreshToken`, {}, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  })\n  storeToken(res.data)\n  const loginUser = await axios.get(`${process.env.REACT_APP_BACKEND_SERVER}/users/me`, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  })\n  storeUser(loginUser.data)\n  return localStorage.getItem('accessToken')\n}","export default __webpack_public_path__ + \"static/media/KL-logo.06f36eee.png\";","export default __webpack_public_path__ + \"static/media/KL-logo-name.2dd95a3b.png\";","import { Fragment, useContext, useState } from 'react'\nimport { useHistory } from 'react-router-dom';\nimport { UserContext } from '../../contexts/UserContext'\nimport { removeToken } from '../../services/authService'\nimport Logo from '../../assets/images/KL-logo.png'\nimport { useEffect } from 'react'\nimport LogoName from '../../assets/images/KL-logo-name.png'\nimport { Link } from 'react-router-dom';\nimport { Popover, Transition } from '@headlessui/react'\nimport {\n  MenuIcon\n} from '@heroicons/react/outline'\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport useSidebar from '../../hooks/useSidebar'\n\nconst customStyles = (offset) => {\n  return {\n    backgroundColor: `${offset === 0 ? 'transparent' : 'rgba(81,54,84,1)'}`,\n    color: '#A5924B',\n  }\n}\n\nconst Header = () => {\n  const { getUser } = useContext(UserContext);\n  const { open } = useSidebar();\n\n  const [offset, setOffset] = useState(0);\n  const handleLogout = () => {\n    removeToken();\n    window.location.href = '/';\n  }\n\n  useEffect(() => {\n    window.onscroll = () => {\n      setOffset(window.pageYOffset)\n    }\n    return function cleanupListener() {\n      window.removeEventListener('onscroll', window)\n    }\n  }, []);\n\n  return (\n    <Popover className='fixed z-50 w-full' style={customStyles(offset)}>\n      {({ open }) => (\n        <>\n          <div className='max-w-full py-4 mx-2 sm:px-6'>\n            <div className='flex items-center justify-between py-1 border-b-2 border-transparent md:justify-start md:space-x-10'>\n              <div className='flex items-center justify-start lg:w-0 lg:flex-1'>\n                <Link to='/' className='flex items-center'>\n                  <span className='sr-only'>Workflow</span>\n                  <img\n                    className='w-auto h-8 sm:h-10'\n                    src={Logo}\n                    alt='嘉林財俊'\n                  />\n                  <img\n                    className='w-auto h-8'\n                    src={LogoName}\n                    alt='嘉林財俊'\n                  />\n                </Link>\n                <Link to='/' className='ml-6 font-bold text-md hover:text-yellow-500'>\n                  所有課程\n                  </Link>\n                {getUser().id != null &&\n                  <Link to='/my-courses' className='ml-6 font-bold text-md hover:text-yellow-500'>\n                    我的課程\n                  </Link>\n                }\n              </div>\n\n              {/* mobile toggle */}\n              <div className='-my-2 -mr-2 md:hidden'>\n                <Popover.Button style={{ backgroundColor: 'transparent' }} className='inline-flex items-center justify-center p-2 rounded-md bg-opacity-70 hover:text-yellow-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500'>\n                  <span className='sr-only'>Open menu</span>\n                  <MenuIcon className='w-6 h-6' aria-hidden='true' />\n                </Popover.Button>\n              </div>\n              {/* mobile toggle */}\n\n              <div className='items-center justify-end hidden md:flex md:flex-1 lg:w-0'>\n                {getUser().id != null ?\n                  <>\n\n                    <Link to={`/user/${getUser().id}`} className='ml-6 hover:text-yellow-500'>\n                      <AccountCircleIcon className='text-xl' />\n                    </Link>\n                    <button\n                      onClick={handleLogout}\n                      className='ml-6 font-bold text-md hover:text-yellow-500'>\n                      <span>登出</span>\n                    </button>\n                  </>\n                  :\n                  <>\n                    <Link to='/signup' className='ml-6 font-bold whitespace-nowrap text-md hover:text-yellow-500'>\n                      注冊\n                  </Link>\n                    <Link\n                      to='/login'\n                      className='ml-6 font-bold text-md hover:text-yellow-500'\n                    >\n                      登入\n                  </Link>\n                  </>\n                }\n              </div>\n            </div>\n          </div>\n\n          <Transition\n            show={open}\n            as={Fragment}\n            enter='duration-200 ease-out'\n            enterFrom='opacity-0 scale-95'\n            enterTo='opacity-100 scale-100'\n            leave='duration-100 ease-in'\n            leaveFrom='opacity-100 scale-100'\n            leaveTo='opacity-0 scale-95'\n          >\n            <Popover.Panel\n              focus\n              static\n              className='absolute inset-x-0 top-0 p-2 transition origin-top-right transform md:hidden'\n            >\n              <div className='bg-white divide-y-2 rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 divide-gray-50'>\n                <div className='px-5 py-3 space-y-6'>\n                  <div className='grid grid-cols-2 gap-y-4 gap-x-8'>\n                    <Link to='/' className='font-medium text-center text-gray-900 text-md hover:text-gray-700'>\n                      所有課程\n                      </Link>\n\n                    <Link to='/my-courses' className='font-medium text-center text-gray-900 text-md hover:text-gray-700'>\n                      我的課程\n                      </Link>\n                  </div>\n                  {\n                    !getUser().id ?\n                      (\n                        <button\n                          onClick={handleLogout}\n                          className='inline-flex items-center justify-center px-3 py-2 ml-6 font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm whitespace-nowrap text-md hover:bg-indigo-700'>\n                          <span>登出</span>\n                        </button>\n                      )\n                      :\n                      (\n                        <div>\n                          <Link\n                            to='/signup'\n                            className='flex items-center justify-center w-full px-4 py-2 font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm text-md hover:bg-indigo-700'\n                          >\n                            注冊\n                          </Link>\n                          <p className='mt-6 font-medium text-center text-gray-500 text-md'>\n                            現有用戶?{' '}\n                            <Link to='/login' className='text-indigo-600 hover:text-indigo-500'>\n                              登入\n                        </Link>\n                          </p>\n                        </div>\n                      )\n                  }\n                </div>\n              </div>\n            </Popover.Panel>\n          </Transition>\n        </>\n      )}\n    </Popover>\n  )\n}\n\nexport default Header;","import { useState } from 'react';\n\nexport default function useSidebar() {\n    const [open, setOpen] = useState(false);\n    return {\n        open,\n        setOpen,\n    }\n}","import React from 'react'\nimport Header from '../layout/header'\nconst UserLayout = ({ children }) => {\n    return (\n        <>\n            <main\n                style={{ background: 'linear-gradient(0deg, rgba(81,54,84,1) 0%, rgba(2,0,36,1) 43%, rgba(81,54,84,1) 100%)' }}\n                className={`min-h-screen`}>\n                <Header />\n                <div className={`pt-24 h-full`}>\n                    {children}\n                </div>\n            </main>\n        </>\n    )\n}\n\nexport default UserLayout;","import React, { useContext, useEffect } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { UserContext } from '../contexts/UserContext';\nimport axios from 'axios'\nimport { getUser, storeUser } from '../services/authService'\nimport UserLayout from '../modules/layout/UserLayout'\n\nexport default function PrivateRoute(props) {\n    const token = localStorage.getItem('accessToken')\n    const { id } = getUser()\n    useEffect(() => {\n        axios.get(`${process.env.REACT_APP_BACKEND_SERVER}/users/me`, {\n            headers: {\n                'Authorization': `Bearer ${token}`\n            }\n        }).then(loginUser => {\n            storeUser(loginUser.data)\n        })\n    }, [])\n    const {\n        component: Component,\n        ...rest\n    } = props;\n\n    if (token && id !== '' && Component) {\n        return (<Route {...rest} render={(props) => (\n            <Component {...props} />\n        )} />)\n    }\n    else if (token && id !== '' && props.render) {\n        return (<Route {...rest} render={props.render} />)\n    }\n    else {\n        return <Redirect to='/login' />\n    }\n\n}\n\n\n\n\n","import React, { useContext } from 'react';\nimport { UserContext } from '../contexts/UserContext'\nimport { Route, Redirect } from 'react-router-dom'\nimport { getUser } from '../services/authService'\nimport UserLayout from '../modules/layout/UserLayout';\n\nexport default function AuthRoute(props) {\n    const token = localStorage.getItem('accessToken')\n\n    const { id } = getUser()\n\n    const {\n        component: Component,\n        ...rest\n    } = props;\n\n    if (token && id !== '') {\n        return <Redirect to={`/user/${id}`} />\n    } else {\n        return (\n            <Route {...rest} render={(props) => (<Component {...props} />)} />\n        )\n    }\n}\n\n\n\n\n","import React from 'react'\n\nfunction Button({ color, textColor, hoverColor, buttonText, onClickMethod, borderRadius, children, disabled }) {\n    return (\n        <div className=\"flex items-center justify-center\">\n            <button\n                onClick={onClickMethod}\n                className={`${color ? color : 'bg-indigo-700'} ${textColor ? textColor : 'text-white'} hover:${hoverColor ? hoverColor : 'bg-blue-dark'} ${borderRadius ? borderRadius : null} font-bold flex items-center justify-center w-full h-9 py-2 px-4 rounded focus:outline-none focus:shadow-outline`}\n                type=\"submit\"\n                disabled={disabled}>\n                {children ? children : \"button text\"}\n            </button>\n        </div>\n    )\n}\n\nexport default Button\n","import React, { useState, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { UserContext } from '../../../../contexts/UserContext'\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { storeToken, storeUser } from '../../../../services/authService'\nimport Button from '../../../utilComponents/Button'\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\n\nfunction LoginForm(props) {\n    const [loginError, setLoginError] = useState(false)\n    const [snackbarContent, setSnackbarContent] = useState(null)\n    const { referralToken } = props.match.params;\n\n    const formik = useFormik({\n        initialValues: {\n            email: '',\n            password: '',\n        },\n        validationSchema: Yup.object({\n            email: Yup.string()\n                .email(\"請輸入正確的電郵格式\")\n                .required(\"請輸入電郵\"),\n            password: Yup.string()\n                .min(8, \"請輸入至少8個字母\")\n                .required(\"請輸入密碼\"),\n        }),\n        validateOnBlur: false,\n        onSubmit: async () => {\n            const { email, password } = formik.values\n            try {\n                if (Object.keys(formik.errors).length === 0) {\n                    const response = await axios.post(`${process.env.REACT_APP_BACKEND_SERVER}/auth/local`, {\n                        identifier: email,\n                        password: password\n                    })\n                    storeUser(response.data.user)\n                    storeToken(response.data.jwt)\n                    window.location.href = `/user/${response.data.user.id}`\n                    // console.log('data posted')\n                }\n            } catch (e) {\n                setLoginError(true)\n                console.log(e)\n            }\n        }\n    });\n\n    const checkReferrer = async () => {\n        try {\n            const result = await axios.get(`${process.env.REACT_APP_BACKEND_SERVER}/users-referrer/${referralToken}`)\n            console.log(result.data, 'result.data')\n            console.log(result.data.referrerData.email, 'result.data')\n            setSnackbarContent(`歡迎加入！您成功被${result.data.referrerData.email}推薦`)\n        } catch (e) {\n            console.log(e.response)\n        }\n    };\n\n    useEffect(() => {\n        checkReferrer()\n    }, [referralToken])\n\n    return (\n        <div>\n            <form\n                style={{ background: 'rgba(81,58,84, 0.75)' }}\n                className='flex flex-col w-full min-h-screen bg-grey-lighter'>\n                <div className='container flex flex-col items-center justify-center flex-1 max-w-sm px-2 mx-auto'>\n                    <div className='w-full px-6 py-8 text-black bg-white rounded shadow-md'>\n                        {loginError && <p class=\"text-center text-red-500 text-xs italic\">電郵或名稱不正確，請重新輸入</p>}\n                        {snackbarContent &&\n                            <div className='mb-2'>\n                                <SnackbarContent\n                                    message={\n                                        snackbarContent\n                                    }\n                                />\n                            </div>\n                        }\n                        <h1 className='mb-8 text-3xl text-center text-gray-700'>歡迎回來</h1>\n                        <input\n                            type='text'\n                            className='w-full h-12 px-3 py-2 mb-2 leading-tight border rounded shadow appearance-none text-grey-darker focus:outline-none focus:shadow-outline'\n                            name='email'\n                            placeholder='電郵'\n                            value={formik.values.email}\n                            onChange={formik.handleChange}\n                        />\n                        {formik.errors.email && formik.touched.email && <p class=\"text-red-500 mb-4 text-xs italic\">{formik.errors.email}</p>}\n                        <input\n                            type='password'\n                            className='w-full h-12 px-3 py-2 mb-2 leading-tight border rounded shadow appearance-none text-grey-darker focus:outline-none focus:shadow-outline'\n                            name='password'\n                            placeholder='密碼'\n                            value={formik.values.password}\n                            onChange={formik.handleChange}\n                        />\n                        {formik.errors.password && formik.touched.password && <p class=\"text-red-500 mb-4 text-xs italic\">{formik.errors.password}</p>}\n                        <Button\n                            onClickMethod={formik.handleSubmit}\n                            color={'bg-indigo-700'}\n                            hoverColor={'bg-blue-dark'}\n                            textColor={'text-white'}\n                        >\n                            登入\n                                </Button>\n                        <div className='flex justify-center w-full h-auto pt-8'>\n                            <Link to='/forgot-password'>\n                                忘記密碼\n                            </Link>\n                        </div>\n                    </div>\n                    <div className='mt-6 text-white'>\n                        尚未註冊?\n                    <Link className='ml-2 no-underline border-b-4s' to='./signup'>\n                            按此\n                    </Link>\n                    </div>\n                </div>\n            </form>\n        </div>\n    );\n}\n\nexport default LoginForm\n","import React, { useState } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\n\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\n\nfunction SignupForm(props) {\n    const { referralToken } = props.match.params;\n\n    const [signupError, setSignupError] = useState(false)\n    const [openSnackbar, setOpenSnackbar] = useState(false)\n    const formik = useFormik({\n        initialValues: {\n            username: '',\n            email: '',\n            password: '',\n        },\n        validationSchema: Yup.object({\n            username: Yup.string()\n                .required(\"username is required!\"),\n            email: Yup.string()\n                .email(\"請輸入正確的電郵格式\")\n                .required(\"請輸入電郵\"),\n            password: Yup.string()\n                .min(8, \"請輸入至少8個字母\")\n                .required(\"請輸入密碼\"),\n        }),\n        validateOnBlur: false,\n        onSubmit: async () => {\n            const { username, email, password } = formik.values\n            try {\n                if (Object.keys(formik.errors).length === 0) {\n                    let result = null;\n                    if (referralToken) {\n                        result = await axios.post(`${process.env.REACT_APP_BACKEND_SERVER}/auth/local/register/${referralToken}`, {\n                            username: username,\n                            email: email,\n                            password: password\n                        });\n                    } else {\n                        result = await axios.post(`${process.env.REACT_APP_BACKEND_SERVER}/auth/local/register`, {\n                            username: username,\n                            email: email,\n                            password: password\n                        });\n                    }\n                    console.log('data posted')\n                    if (result) {\n                        //notification for email sent\n                        setSignupError(false)\n                        setOpenSnackbar(true);\n                    }\n                }\n            } catch (e) {\n                setSignupError(true)\n                console.log(e)\n            }\n        }\n    });\n\n    return (\n        <div>\n            <form\n                style={{ background: 'rgba(81,58,84, 0.75)' }}\n                className='flex flex-col min-h-screen bg-grey-lighter'>\n                <div className='container flex flex-col items-center justify-center flex-1 max-w-sm px-2 mx-auto'>\n                    <div className='w-full px-6 py-8 text-black bg-white rounded shadow-md'>\n                        <h1 className='mb-8 text-3xl text-center'>用戶注冊</h1>\n                        {openSnackbar &&\n                            <div className='mb-2'>\n                                <SnackbarContent\n                                    message={\n                                        `我們已經發送了到以下電郵地址，請查看您的電子郵件箱。`\n                                    }\n                                />\n                            </div>\n                        }\n                        {signupError && <p class=\"text-red-500 text-xs italic\">用戶名稱或電郵已經被注冊</p>}\n                        {formik.errors.username && formik.touched.username && <p class=\"text-red-500 text-xs italic\">{formik.errors.username}</p>}\n                        <input\n                            type='text'\n                            className='block w-full p-3 mb-4 border rounded border-grey-light'\n                            name='username'\n                            placeholder='用戶名稱'\n                            value={formik.values.username}\n                            onChange={formik.handleChange}\n                        />\n                        {formik.errors.email && formik.touched.email && <p class=\"text-red-500 text-xs italic\">{formik.errors.email}</p>}\n                        <input\n                            type='text'\n                            className='block w-full p-3 mb-4 border rounded border-grey-light'\n                            name='email'\n                            placeholder='電郵'\n                            value={formik.values.email}\n                            onChange={formik.handleChange}\n                        />\n                        {formik.errors.password && formik.touched.password && <p class=\"text-red-500 text-xs italic\">{formik.errors.password}</p>}\n                        <input\n                            type='password'\n                            className='block w-full p-3 mb-4 border rounded border-grey-light'\n                            name='password'\n                            placeholder='密碼'\n                            value={formik.values.password}\n                            onChange={formik.handleChange}\n                        />\n                        <button\n                            onClick={formik.handleSubmit}\n                            type='submit'\n                            className='w-full h-12 px-4 pt-2 font-bold text-white bg-indigo-700 rounded hover:bg-blue-dark focus:outline-none focus:shadow-outline'\n                        >開戶</button>\n                        <div className='mt-8 text-sm text-center text-grey-dark'>\n                            By signing up, you agree to the\n                        <Link className='no-underline border-b border-grey-dark text-grey-dark' to='#'>\n                                <span> Terms of Service</span>\n                            </Link> and\n                        <Link className='no-underline border-b border-grey-dark text-grey-dark' to='#'>\n                                <span> Privacy Policy </span>\n                            </Link>\n                        </div>\n                    </div>\n\n                    <div className='mt-6 text-white'>\n                        我已經有帳戶\n                    <Link className='ml-2 border-b-4s' to='./login'>\n                            (按此登入)\n                    </Link>\n                    </div>\n                </div>\n            </form>\n        </div>\n    );\n}\n\nexport default SignupForm","import React from 'react'\n\nfunction index() {\n    return (\n        <div>\n            Home\n        </div>\n    )\n}\n\nexport default index\n","import React, { useContext, useState } from 'react';\nimport { UserContext } from '../../../../contexts/UserContext';\nimport ForwardIcon from '@material-ui/icons/Forward';\nimport { Link } from 'react-router-dom';\nimport CheckIcon from '@material-ui/icons/Check';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n  lessonTextContainer: {\n    display: 'flex',\n    flexWrap: 'nowrap',\n  },\n  lessonText: {\n    display: 'flex',\n  },\n}));\n\nconst LessonCards = ({ lessonsDetail }) => {\n  const { getUser } = useContext(UserContext);\n  const user = getUser();\n  const classes = useStyles();\n\n  return (\n    <>\n      <div>\n        <div className=\"py-3 mb-0 border-b-2 rounded-t\">\n          <div className=\"flex flex-wrap items-center\">\n            <div className=\"relative flex-1 flex-grow w-full max-w-full px-4\">\n              <h3\n                className={\n                  \"font-semibold text-lg \"\n                }\n              >\n                {'課堂內容(✓為已經完成之課程)'}\n              </h3>\n            </div>\n          </div>\n        </div>\n        <div className=\"block w-full overflow-x-auto\">\n          <div>\n            {lessonsDetail.length === 0 && <p className='mt-6 ml-4 text-xs'>此課程暫時沒有資料</p>}\n            {\n              lessonsDetail.map((lesson, ind) =>\n                <div className='m-4 border-2 border-gray-300 rounded-md' key={ind}>\n                  <div className=\"flex items-center justify-between px-6 py-4 text-xs text-left whitespace-nowrap\">\n                    <div className='flex'>\n                      {/* lesson status */}\n                      {(user.id && user.id != \"\") &&\n                        <div type='button' className='flex items-center justify-center w-10 h-10 border-2 rounded-full shadow border-blueGray-50'>\n                          {lesson.finished && <CheckIcon />}\n                        </div>\n                      }\n                      {/* lesson name */}\n                      <div className='flex flex-col ml-3 w-96'>\n                        <span\n                          className=\"text-lg font-bold\">\n                          {lesson.title}\n                        </span>\n                        {/* lesson text */}\n                        <div className='overflow-x-scroll'>\n                            {lesson.text}\n                        </div>\n                      </div>\n                    </div>\n                    {/* start lesson btn */}\n                    <Link to={`/lesson/${lesson.id}`}>\n                      <button className='inline-flex items-center px-2 py-2 my-2 text-xs text-gray-800 bg-gray-300 rounded hover:bg-gray-400'>\n                        <span>\n                          前往課程\n                      </span>\n                      </button>\n                    </Link>\n                  </div>\n\n                </div>\n              )\n            }\n\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default LessonCards;","import React, { useContext } from 'react';\nimport { Button } from '@material-ui/core';\nimport { UserContext } from '../../../contexts/UserContext';\nimport AttachmentIcon from '@material-ui/icons/Attachment';\n\nconst CourseMaterials = ({ courseMaterials, purchased }) => {\n  const { getUser } = useContext(UserContext);\n  const user = getUser();\n\n  const handleClick = async (event, courseMaterial) => {\n    if (courseMaterial.material) {\n      window.open(`${process.env.REACT_APP_BACKEND_SERVER}${courseMaterial.material.url}`);\n    } else if (courseMaterial.materialUrl) {\n      window.open(courseMaterial.materialUrl);\n    }\n  }\n\n  return (\n    <div>\n      <div className=\"rounded-t py-3 border-b-2\">\n        <div className=\"flex flex-wrap items-center\">\n          <div className=\"flex items-center gap-x-2 relative w-full px-4 max-w-full\">\n            <h3 className=\"font-semibold text-lg\">\n              可供下載\n                      </h3>\n            <div className='bg-yellow-600 text-white px-2 rounded-sm font-semibold'>\n              {courseMaterials.length}\n            </div>\n          </div>\n        </div>\n      </div>\n      {\n        courseMaterials.length > 0 ?\n          <div>\n            {courseMaterials.map((courseMaterial) =>\n              <div key={courseMaterial.id} className=\"py-6\">\n                <div className='py-6 px-4 flex justify-between bg-gray-300 rounded-md'>\n                  <div className='flex justify-center items-center'>\n                    <AttachmentIcon />\n                    <h2 className='pl-4 font-bold text-xl'>{courseMaterial.title}</h2>\n                    <p className='pl-4'>{courseMaterial.materialDescription}</p>\n                  </div>\n\n                  {\n                    (user && user.id && user.id != \"\") && purchased\n                      ?\n                      <Button\n                        style={{ background: '#235789' }}\n                        className='inline-flex items-center justify-center my-2 px-3 py-2 border border-transparent rounded-3xl shadow-sm text-xs font-bold'\n                        onClick={(event) => handleClick(event, courseMaterial)} variant=\"contained\">\n                        <span className='text-white'>\n                          下載\n                          </span>\n                      </Button>\n                      :\n                      <Button disabled variant=\"contained\">你尚未購買此課程</Button>\n                  }\n                </div>\n              </div>\n            )}\n          </div>\n          :\n          <p className='p-4'>\n            這個課程沒有任何材料\n            </p>\n      }\n    </div>\n  )\n}\n\nexport default CourseMaterials;","import { loadStripe } from '@stripe/stripe-js';\nimport { httpClient } from './api/axiosHelper';\nimport { getUser } from '../services/authService';\n\nconst stripePromise = loadStripe(process.env.REACT_APP_STRIPE_PK);\n\nexport const handleBuy = async (courseId) => {\n    const user = getUser();\n    if (user.id != \"\" && user.id != null) {\n        const stripe = await stripePromise;\n        const reqObj = {\n            courseId\n        };\n        const session = await httpClient.post(`/user-payments`, reqObj);\n        const result = await stripe.redirectToCheckout({ sessionId: session.data.sessionID });\n    } else {\n        window.location.href = '/login'\n    }\n}","import React from 'react'\nimport { handleBuy } from '../../services/stripe'\n\nconst BuyButton = ({ courseId, children }) => {\n    return (\n        <button\n            style={{ background: '#235789', marginTop: 10 }}\n            onClick={() => handleBuy(courseId)} className=\"inline-flex items-center justify-center px-3 py-2 text-xs font-bold text-white bg-indigo-600 border border-transparent rounded-md shadow-sm whitespace-nowrap hover:bg-indigo-700\">\n            {children}\n        </button>\n    )\n}\n\nexport default BuyButton;","import React, { useState, useEffect, useContext } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { httpClient } from '../../../../services/api/axiosHelper';\nimport { UserContext } from '../../../../contexts/UserContext';\nimport LessonCards from '../../../lesson/components/LessonPage/lessonCards';\nimport { Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LibraryBooksIcon from '@material-ui/icons/LibraryBooks';\nimport PermMediaIcon from '@material-ui/icons/PermMedia';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\n\nimport CourseMaterials from '../courseMaterials'\nimport BuyButton from '../../../utilComponents/BuyButton'\nimport axios from 'axios';\n\nvar currencyFormatter = require('currency-formatter');\n\nconst useStyles = makeStyles(theme => ({\n    paper: {\n        width: '100%',\n        background: 'transparent',\n        padding: theme.spacing(5, 0, 2, 0),\n    },\n    tab: {\n        padding: theme.spacing(1, 0, 1, 0),\n    },\n    wrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'start',\n        justifyContent: 'center',\n        gap: theme.spacing(1),\n    },\n    container: {\n        border: '2px solid #D1D5DB',\n        borderRadius: theme.spacing(0.5),\n    },\n    indicator: {\n        backgroundColor: 'black'\n    },\n    selected: {\n        background: '#76abde',\n        color: '#235789',\n        fontWeight: '700',\n        border: '#235789'\n    }\n}));\n\nconst TabPanel = (props) => {\n    const { children, value, index, ...other } = props;\n\n    return (\n        <div\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`simple-tabpanel-${index}`}\n            aria-labelledby={`simple-tab-${index}`}\n            {...other}\n        >\n            {value === index && (\n                <Box p={3}>\n                    <Typography component={'span'}>{children}</Typography>\n                </Box>\n            )}\n        </div>\n    );\n}\n\nfunction a11yProps(index) {\n    return {\n        id: `simple-tab-${index}`,\n        'aria-controls': `simple-tabpanel-${index}`,\n    };\n}\n\nconst Course = (props) => {\n\n    const classes = useStyles();\n    const { getUser } = useContext(UserContext);\n    const user = getUser();\n    const courseId = props.match.params.courseId;\n\n    const [courseData, setCourseData] = useState(null);\n    const [value, setValue] = useState(0);\n\n    const fetchCourseData = async (courseId) => {\n        try {\n            const result = await axios.get(`${process.env.REACT_APP_BACKEND_SERVER}/courses/${courseId}`)\n            setCourseData(result.data);\n        } catch (e) {\n            props.history.push('/')\n            console.log(e)\n        }\n    };\n\n    const updateLessonProgress = async (lessonId, isFinished) => {\n        let result;\n        try {\n            if (user.id != \"\" && user.id != null) {\n                const route = `user-progresses/${lessonId}/${user.id}`;\n                if (isFinished) {\n                    result = await httpClient.post(route);\n                } else {\n                    result = await httpClient.delete(route);\n                }\n                await fetchCourseData(courseId);\n                console.log('checked ok')\n            }\n        } catch (e) {\n            console.log(e)\n        }\n    }\n\n    useEffect(() => {\n        fetchCourseData(courseId);\n    }, []);\n\n\n    const handleTabChange = (event, newValue) => {\n        setValue(newValue);\n    };\n    return (\n        <div className='relative flex flex-col w-full min-w-0 text-gray-600 bg-gray-100 rounded shadow-lg'>\n            <div className='flex flex-col items-center'>\n                {courseData &&\n                    <>\n                        <h1 className=\"py-12 text-3xl\">{courseData.title}</h1>\n                        <div className=\"flex flex-col items-center w-40 p-2 bg-gray-400 rounded\">\n                            {courseData.purchased ?\n                                <>\n                                    {\n                                        courseData.lessonsDetail.length > 0 ?\n                                            <>\n                                                <span className='font-bold text-gray-700'>你已擁有此課程</span>\n                                                <Link\n                                                    to={`/lesson/${courseData.lessonsDetail[0].id}`}\n                                                    style={{ background: '#235789' }}\n                                                    className=\"inline-flex items-center justify-center px-3 py-2 my-2 text-xs font-bold text-white border border-transparent shadow-sm whitespace-nowrap rounded-3xl\"\n                                                >\n                                                    開始課程\n                                            </Link>\n                                            </>\n                                            :\n                                            <span className='font-bold text-gray-700'>你已擁有此課程</span>\n\n                                    }\n\n                                </>\n                                :\n                                <>\n                                    {/* <span className='font-bold text-gray-700'>你尚未擁有此課程</span> */}\n                                    <span className='font-bold text-gray-700'>{(courseData.price == 0) ? '你尚未報讀此課程' : \"你尚未擁有此課程\"}</span>\n                                    {/* <BuyButton courseId={courseId}>購買課程</BuyButton> */}\n                                    <BuyButton courseId={courseId}>{(courseData.price == 0) ? \"報名\" : '購買課程'}</BuyButton>\n                                </>}\n                        </div>\n\n                        <div className='w-1/2'>\n                            <div>\n                                <div className={classes.paper}>\n                                    <Tabs value={value}\n                                        onChange={handleTabChange}\n                                        aria-label=\"simple tabs example\"\n                                        indicatorColor=\"primary\"\n                                        textColor=\"white\"\n                                        className={classes.tab}\n                                        classes={{\n                                            flexContainer: classes.container\n                                        }}\n                                        TabIndicatorProps={{\n                                            style: {\n                                                background: '#235789',\n                                                height: '3px'\n                                            }\n                                        }}\n                                    >\n                                        <Tab classes={{ wrapper: classes.wrapper, selected: classes.selected }} icon={<LibraryBooksIcon />} label=\"課堂概覽\" {...a11yProps(0)} />\n                                        <Tab classes={{ wrapper: classes.wrapper, selected: classes.selected }} icon={<PermMediaIcon />} label=\"課堂材料\" {...a11yProps(1)} />\n                                    </Tabs>\n                                </div>\n                                <TabPanel value={value} index={0}>\n                                    <div className=\"py-3 border-b-2 rounded-t\">\n                                        <div className=\"flex flex-wrap items-center\">\n                                            <div className=\"relative flex-1 flex-grow w-full max-w-full px-4\">\n                                                <h3\n                                                    className={\n                                                        \"font-semibold text-lg\"\n                                                    }\n                                                >\n                                                    課程概覽\n                                    </h3>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <p className='py-6 pl-4'>{courseData.description}</p>\n                                    <div className=\"py-3 border-b-2 rounded-t\">\n                                        <div className=\"flex flex-wrap items-center\">\n                                            <div className=\"relative flex-1 flex-grow w-full max-w-full px-4\">\n                                                <h3\n                                                    className={\n                                                        \"font-semibold text-lg \"\n                                                    }\n                                                >\n                                                    課程價錢\n                                    </h3>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div>\n                                        {courseData.price == 0 ?\n                                            <>\n                                                <p className='py-6 pl-4'>Free</p>\n                                            </>\n                                            :\n                                            <>\n                                                <p className='py-6 pl-4'>{currencyFormatter.format(courseData.price, { code: 'HKD' })}</p>\n                                                {/* <p className='py-6 pl-4'>{courseData.price}</p> */}\n                                            </>\n                                        }\n                                    </div>\n                                    <LessonCards lessonsDetail={courseData.lessonsDetail} progressHandler={updateLessonProgress} purchased={courseData.purchased} />\n                                </TabPanel>\n                                <TabPanel value={value} index={1}>\n                                    <CourseMaterials courseMaterials={courseData.courseMaterials} purchased={courseData.purchased} />\n                                </TabPanel>\n                            </div>\n                        </div>\n                    </>\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default Course\n","import React from 'react'\nimport { Link } from 'react-router-dom';\n\nvar currencyFormatter = require('currency-formatter');\n\nfunction AllCourseCard({ title, price, description, courseId, image, filteredCourseLength }) {\n\n    return (\n        <>\n            <div className='max-w-md px-3 py-6 sm:w-1/2 lg:w-1/6'>\n                <div className='overflow-hidden bg-gray-700 rounded-lg shadow-xl'>\n                    <Link to={`/course/${courseId}`}>\n                        <div className='overflow-hidden rounded'>\n                            <img className='object-contain w-full px-2 h-60' src={image} alt={image} />\n                            <div className={`px-6`}>\n                                <div\n                                    className='h-20 font-bold text-gray-200 text-md'>{title}</div>\n                                {filteredCourseLength > 0 && (\n                                    <p className='pb-8 text-sm text-gray-200'>\n                                        {\n                                            description && description.length > 55 ? (\n                                                <>\n                                                    {description.substring(0, 55) + `...`}\n                                                </>\n                                            )\n                                                : (\n                                                    description\n                                                )\n                                        }\n                                    </p>\n                                )}\n                            </div>\n                            <div className='flex items-center justify-center px-6 py-4 text-xl font-bold text-white bg-gray-600'>\n                                {price == 0 ?\n                                    <>\n                                        Free\n                                    </>\n                                    :\n                                    <>\n                                        {currencyFormatter.format(price, { code: 'HKD' })}\n                                    </>\n\n                                }\n                            </div>\n                        </div>\n                    </Link>\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default AllCourseCard\n\n\n","import React from 'react'\n\nfunction CourseTitle({ children }) {\n    return (\n        <>\n            <div className='text-4xl font-bold pl-12 pt-4 text-gray-200'>{children}</div>\n            <div class=\"text-start\">\n                <span class=\"inline-block w-full h-1 rounded-full bg-gray-500 px-4 ml-1\"></span>\n            </div>\n        </>\n    )\n}\n\nexport default CourseTitle\n","import React from 'react'\nimport SearchIcon from '@material-ui/icons/Search';\n\nfunction SearchBar({ onSearchChange }) {\n    return (\n        <div className='flex justify-end items-center'>\n            <div className=\"w-full flex flex-wrap\">\n                <span className=\"z-10 h-full leading-snug font-normal absolute text-center text-blueGray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3\">\n                    <SearchIcon />\n                </span>\n                <input\n                    onChange={onSearchChange}\n                    type=\"text\"\n                    placeholder=\"搜尋課程\"\n                    className=\"px-3 py-3 placeholder-blueGray-300 relative rounded-3xl text-sm border-0 shadow outline-none focus:outline-none focus:ring focus:ring-gray-600 w-full pl-10\" />\n            </div>\n        </div>\n    )\n}\n\nexport default SearchBar\n","import React from 'react'\nimport SearchBar from '../../../utilComponents/SearchBar'\n\nfunction AllCoursesIntro({ numberOfCourses, onSearchChange }) {\n    return (\n        <div className='flex justify-center items-start py-48 mx-2'>\n            <div className='focus:animate-moveSideways'>\n                <div className='text-white text-4xl pb-4'>\n                    我們致力提供優質的金融課程\n                </div>\n                <SearchBar onSearchChange={onSearchChange} />\n            </div>\n            <span>\n\n                {\n                    numberOfCourses > 0 && (\n                        <div className='flex flex-col justify-between items-center pl-4'>\n                            <div className='text-white text-xl pb-2'>\n                                課程數目\n                            </div>\n                            <div\n                                style={{ borderColor: '#A5924B' }}\n                                className='text-gray-200 text-4xl font-bold border-4 rounded-full h-24 w-24 flex items-center justify-center'>\n                                {numberOfCourses}\n                            </div>\n                        </div>\n                    )\n                }\n            </span>\n        </div>\n    )\n}\n\nexport default AllCoursesIntro\n","import React, { useState, useRef, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\n\nvar currencyFormatter = require('currency-formatter');\n\nfunction RecommendedCourseCard({ title, price, description, courseId, image, index, indexChecking }) {\n\n    return (\n        <>\n            <div className='max-w-md px-3 py-6 sm:w-1/2 lg:w-full'>\n                <div className='overflow-hidden bg-gray-700 rounded-lg shadow-xl'>\n                    <Link to={`/course/${courseId}`}>\n                        <div className='overflow-hidden rounded'>\n                            <img className='object-contain w-full px-2 py-2 h-60' src={image} alt={image} />\n                            <div className='h-40 overflow-hidden'>\n                                <div className={`px-6`}>\n                                    <div\n                                        className='my-2 text-lg font-bold text-gray-200'>{title}</div>\n                                    <p\n                                        className='text-sm text-gray-200'>\n                                        {\n                                            description && description.length > 55 ? (\n                                                <>\n                                                    {description.substring(0, 55) + `...`}\n                                                </>\n                                            )\n                                                : (\n                                                    description\n                                                )\n                                        }\n                                    </p>\n                                </div>\n                            </div>\n                            <div className='flex items-center justify-center px-6 py-4 text-xl font-bold text-white bg-gray-600'>\n                                {price == 0 ?\n                                    <>\n                                        Free\n                                    </>\n                                    :\n                                    <>\n                                        {currencyFormatter.format(price, { code: 'HKD' })}\n                                    </>\n\n                                }\n                            </div>\n                        </div>\n                    </Link>\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default RecommendedCourseCard\n\n\n","import React from 'react'\nimport ReactPaginate from 'react-paginate';\n\nfunction Pagination({\n    currentPage,\n    setCurrentPage,\n    pageCount,\n    handlePageClick,\n    pageFilteredCount,\n    handleFilteredPageClick,\n}) {\n    return (\n        <>\n            <ReactPaginate\n                pageRangeDisplayed={1}\n                previousLabel={'← 上一頁'}\n                nextLabel={'下一頁 →'}\n                pageCount={1}\n                pageCount={pageCount === 0 ? 1 : pageCount}\n                onPageChange={pageCount === 0 ? handleFilteredPageClick : handlePageClick}\n                containerClassName={'flex justify-center items-center z-0 rounded-md shadow-sm pb-4'}\n                previousLinkClassName={'relative items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50'}\n                nextLinkClassName={'relative items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50'}\n                pageClassName={'z-10 bg-gray-50 border-gray-500 text-gray-600 relative items-center px-4 py-2 border text-sm font-medium'}\n                activeClassName={'bg-gray-600 text-white'}\n                activeLinkClassName={'text-white no-underline'}\n            />\n        </>\n    )\n}\n\nexport default Pagination\n","import React from 'react'\n// Import Swiper React components\nimport { Swiper, SwiperSlide } from \"swiper/react\";\n\n// Import Swiper styles\nimport './RecommendedCourseCardCarousel.css'\nimport \"swiper/swiper.min.css\";\nimport \"swiper/components/pagination/pagination.min.css\"\nimport \"swiper/components/navigation/navigation.min.css\"\n\n// import Swiper core and required modules\nimport SwiperCore, {\n    Pagination, Navigation\n} from 'swiper/core';\n\nSwiperCore.use([Pagination, Navigation]);\n\nfunction RecommendedCourseCardCarousel({ children, slidesPerView, slidesPerGroup }) {\n    return (\n        <>\n            <Swiper\n                slidesPerView={slidesPerView}\n                spaceBetween={0}\n                slidesPerGroup={slidesPerGroup}\n                loop={false}\n                loopFillGroupWithBlank={true}\n                navigation={true}\n            >\n                {children}\n            </Swiper>\n        </>\n    )\n}\n\nexport default RecommendedCourseCardCarousel\n","import React from 'react'\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { usePromiseTracker } from \"react-promise-tracker\"\n\nfunction LoadingSpinner() {\n    const { promiseInProgress } = usePromiseTracker();\n    return (\n        promiseInProgress &&\n        <>\n            <div className='flex items-center justify-center'>\n                <div className=\"loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mb-4\"></div>\n                <h2 className=\"text-center text-white text-xl font-semibold ml-4\">Loading...</h2>\n            </div>\n        </>\n    )\n}\n\nexport default LoadingSpinner\n","import React, { useState, useEffect } from 'react'\nimport { httpClient } from '../../../../services/api/axiosHelper'\nimport AllCourseCard from './AllCourseCard'\nimport CourseTitle from './CourseTitle'\nimport AllCoursesIntro from './AllCoursesIntro'\nimport RecommendedCourseCard from './RecommendedCourseCard'\nimport Pagination from './Pagination'\nimport SearchBar from '../../../utilComponents/SearchBar'\nimport RecommendedCourseCardCarousel from './RecommendedCourseCardCarousel'\nimport { Swiper, SwiperSlide } from 'swiper/react'\nimport { trackPromise } from 'react-promise-tracker'\nimport LoadingSpinner from '../../../utilComponents/LoadingSpinner'\nimport axios from 'axios'\n\nfunction AllCourses() {\n    const [courses, setCourses] = useState([])\n    const [featuredCourses, setFeaturedCourses] = useState([])\n    const [searchfield, setSearchfield] = useState('')\n    const [filteredCourses, setFilteredCourses] = useState([])\n\n    const onSearchChange = (e) => {\n        setSearchfield(e.target.value)\n    }\n\n    useEffect(() => {\n        if (searchfield === '') {\n            setFilteredCourses([])\n        } else {\n            const filtered = courses.filter(course => {\n                return course.title.toLowerCase().includes(searchfield.toLowerCase())\n            })\n            setFilteredCourses([...filtered])\n        }\n    }, [searchfield])\n\n    useEffect(() => {\n        const fetchUserCourses = async () => {\n            const response = await axios.get(`${process.env.REACT_APP_BACKEND_SERVER}/courses`)\n            const data = response.data\n            console.log(response.data)\n            setCourses([...data])\n            const featured = data.filter(item => item.featured !== false)\n            setFeaturedCourses([...featured])\n            console.log(filteredCourses, 'console.log(filteredCourses')\n\n        }\n        trackPromise(\n            fetchUserCourses()\n        )\n    }, [])\n\n    /**pagination */\n    const [currentPage, setCurrentPage] = useState(0)\n    const [pageCount, setPageCount] = useState(0)\n    const [currentPageData, setCurrentPageData] = useState([])\n\n    const handlePageClick = ({ selected: selectedPage }) => {\n        setCurrentPage(selectedPage);\n    }\n    useEffect(() => {\n        console.log(courses.length, 'courses.length')\n        const PER_PAGE = 12;\n        const offset = currentPage * PER_PAGE;\n        const pageData = courses.slice(offset, offset + PER_PAGE)\n        setCurrentPageData(pageData)\n        setPageCount(Math.ceil(courses.length / PER_PAGE));\n    }, [courses, currentPage])\n\n    /**pagination for filtered results*/\n    const [currentFilteredPage, setCurrentFilteredPage] = useState(0)\n    const [pageFilteredCount, setFilteredPageCount] = useState(0)\n    const [currentFilteredPageData, setFilteredCurrentPageData] = useState([])\n    const handleFilteredPageClick = ({ selected: selectedPage }) => {\n        setCurrentFilteredPage(selectedPage);\n    }\n\n    useEffect(() => {\n        const PER_PAGE = 12;\n        const offset = currentFilteredPage * PER_PAGE;\n        const pageData = filteredCourses.slice(offset, offset + PER_PAGE)\n        setFilteredCurrentPageData(pageData)\n        setFilteredPageCount(Math.ceil(filteredCourses.length / PER_PAGE));\n    }, [filteredCourses, currentFilteredPage])\n\n\n    return (\n        <>\n            <div>\n                <AllCoursesIntro\n                    numberOfCourses={filteredCourses && filteredCourses.length}\n                    onSearchChange={onSearchChange}\n                />\n                {\n                    currentFilteredPageData.length !== 0 &&\n                    (\n                        <>\n                            <CourseTitle>搜尋結果</CourseTitle>\n                            <div class=\"flex flex-wrap px-12\">\n                                {\n                                    currentFilteredPageData.length > 0 && currentFilteredPageData.map((item, ind) => {\n                                        return (\n                                            <>\n                                                <RecommendedCourseCard\n                                                    key={ind}\n                                                    title={item.title}\n                                                    price={item.price}\n                                                    description={item.description}\n                                                    courseId={item.id}\n                                                    image={item.image && `${process.env.REACT_APP_BACKEND_SERVER}${item.image.url}`}\n                                                    filteredCourseLength={filteredCourses.length}\n                                                />\n                                            </>\n                                        )\n                                    })\n                                }\n                            </div>\n                            <div className='z-0 flex items-center justify-center rounded-md shadow-sm'>\n                                <Pagination\n                                    currentPage={currentFilteredPage}\n                                    setCurrentPage={setCurrentFilteredPage}\n                                    pageCount={pageFilteredCount}\n                                    handlePageClick={handleFilteredPageClick}\n                                />\n                            </div>\n                        </>\n                    )\n                }\n                {\n                    currentFilteredPageData.length === 0 && searchfield !== '' &&\n                    (\n                        <h1 className='min-h-screen text-3xl text-center text-white'>沒有搜尋結果</h1>\n                    )\n                }\n                {\n                    searchfield === '' && (\n                        <>\n                            <CourseTitle> 推介課程</CourseTitle>\n                            <LoadingSpinner />\n                            <RecommendedCourseCardCarousel\n                                slidesPerView={\"auto\"}\n                                slidesPerGroup={1}\n                            >\n                                <div class=\"flex flex-wrap px-12\">\n                                    {\n                                        featuredCourses.map((item, ind) => {\n                                            return (\n                                                <>\n                                                    <SwiperSlide>\n                                                        <RecommendedCourseCard\n                                                            key-={ind}\n                                                            index={ind}\n                                                            title={item.title}\n                                                            price={item.price}\n                                                            description={item.description}\n                                                            courseId={item.id}\n                                                            image={item.image && `${process.env.REACT_APP_BACKEND_SERVER}${item.image.url}`}\n                                                        />\n                                                    </SwiperSlide>\n                                                </>\n                                            )\n                                        })\n                                    }\n                                </div>\n                            </RecommendedCourseCardCarousel>\n                            <CourseTitle>所有課程</CourseTitle>\n                            <div class=\"flex flex-wrap items-start justify-start max-w-full\">\n                                {\n                                    currentPageData.length > 0 && currentPageData.map((item, ind) => {\n                                        return (\n                                            <>\n                                                <AllCourseCard\n                                                    key-={ind}\n                                                    title={item.title}\n                                                    price={item.price}\n                                                    courseId={item.id}\n                                                    image={item.image && `${process.env.REACT_APP_BACKEND_SERVER}${item.image.url}`}\n                                                    featured={item.featured}\n                                                />\n\n                                            </>\n                                        )\n                                    })\n                                }\n                            </div>\n                            <div className='z-0 flex items-center justify-center -space-x-px rounded-md shadow-sm'>\n                                <Pagination\n                                    currentPage={currentPage}\n                                    setCurrentPage={setCurrentPage}\n                                    pageCount={pageCount}\n                                    handlePageClick={handlePageClick}\n                                />\n                            </div>\n                        </>\n                    )\n                }\n            </div>\n        </>\n    )\n}\n\nexport default AllCourses\n","import React from 'react'\nimport Button from '../../../utilComponents/Button'\nimport { Link, useLocation } from 'react-router-dom';\n\nfunction MyCourseCard({ title, courseId, image }) {\n    return (\n        <>\n            <div className='max-w-md sm:w-1/2 lg:w-1/6 py-6 px-3'>\n                <div className='bg-gray-700 shadow-xl rounded-lg overflow-hidden'>\n                    <div className='rounded overflow-hidden'>\n                        <img className='w-full h-60 object-contain px-2 py-2' src={image} alt={image} />\n                        <div className='overflow-hidden'>\n                            <div className={`px-6`}>\n                                <div\n                                    className='font-bold text-gray-200 text-lg my-2'>{title}</div>\n                            </div>\n                        </div>\n                        <Link to={`/course/${courseId}`} className='px-6 py-4 bg-gray-600 text-white text-md font-bold flex justify-center items-center'>\n                            前往課程\n                        </Link>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default MyCourseCard\n\n","import React, { useState, useEffect, useContext } from 'react'\nimport { httpClient } from '../../../../services/api/axiosHelper'\nimport MyCourseCard from './MyCourseCard'\nimport CourseTitle from './CourseTitle'\nimport { UserContext } from '../../../../contexts/UserContext'\nimport Pagination from './Pagination'\n\nfunction MyCourses() {\n    const { getUser } = useContext(UserContext);\n    const user = getUser();\n    const [purchasedCourses, setPurchasedCourses] = useState([])\n\n    useEffect(() => {\n        const fetchUserCourses = async () => {\n            const response = await httpClient.get(`${process.env.REACT_APP_BACKEND_SERVER}/courses`)\n            const data = response.data\n            console.log(response.data)\n            const purchased = data.filter(item => item.purchased !== false)\n            setPurchasedCourses([...purchased])\n        }\n        fetchUserCourses()\n    }, [])\n\n    /**pagination */\n    const [currentPage, setCurrentPage] = useState(0)\n    const [pageCount, setPageCount] = useState(0)\n    const [currentPageData, setCurrentPageData] = useState([])\n\n    const handlePageClick = ({ selected: selectedPage }) => {\n        setCurrentPage(selectedPage);\n    }\n    useEffect(() => {\n        const PER_PAGE = 12;\n        const offset = currentPage * PER_PAGE;\n        const pageData = purchasedCourses.slice(offset, offset + PER_PAGE)\n        setCurrentPageData(pageData)\n        setPageCount(Math.ceil(purchasedCourses.length / PER_PAGE));\n    }, [purchasedCourses, currentPage])\n\n    return (\n        <>\n            {\n                user.id !== null &&\n                (\n                    <>\n                        <CourseTitle>我的課程</CourseTitle>\n                        <div class=\"flex flex-wrap items-start justify-start max-w-full\">\n                            {currentPageData.map((item, ind) => {\n                                return (\n                                    <MyCourseCard\n                                        key-={ind}\n                                        title={item.title}\n                                        price={item.price}\n                                        description={item.description}\n                                        courseId={item.id}\n                                        image={item.image && `${process.env.REACT_APP_BACKEND_SERVER}${item.image.url}`}\n                                    />\n                                )\n                            })}\n                        </div>\n                    </>\n                )\n            }\n            <div className='z-0 flex items-center justify-center -space-x-px rounded-md shadow-sm'>\n                <Pagination\n                    currentPage={currentPage}\n                    setCurrentPage={setCurrentPage}\n                    pageCount={pageCount}\n                    handlePageClick={handlePageClick}\n                />\n            </div>\n        </>\n    )\n}\n\nexport default MyCourses\n","import React from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport MobileStepper from '@material-ui/core/MobileStepper';\nimport Button from '@material-ui/core/Button';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\n\nconst LessonStepper = ({ lessonsDetail, lessonId }) => {\n  const history = useHistory();\n  const theme = useTheme();\n  const activeStep = lessonsDetail.findIndex((lesson) => { return lesson.id == lessonId });\n  console.log(activeStep)\n  const maxSteps = lessonsDetail.length;\n\n  const handleNext = () => {\n    const oneIndexedStep = activeStep + 1;\n    history.push(`/lesson/${oneIndexedStep + 1}`);\n  };\n\n  const handleBack = () => {\n    const oneIndexedStep = activeStep + 1;\n    history.push(`/lesson/${oneIndexedStep - 1}`);\n  };\n\n  return (\n    <div className='pt-4'>\n      <MobileStepper\n        steps={maxSteps}\n        position=\"static\"\n        variant=\"text\"\n        activeStep={activeStep}\n        nextButton={\n          <Button size=\"small\" onClick={handleNext} disabled={activeStep === maxSteps - 1}>\n            Next\n            {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\n          </Button>\n        }\n        backButton={\n          <Button size=\"small\" onClick={handleBack} disabled={activeStep === 0}>\n            {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\n            Back\n          </Button>\n        }\n      />\n    </div>\n  );\n}\n\nexport default LessonStepper;","import React, { useState, useEffect, useContext } from 'react';\nimport { useHistory, Link, withRouter } from \"react-router-dom\";\nimport Video from '../../../utilComponents/video';\nimport { httpClient } from '../../../../services/api/axiosHelper';\nimport axios from 'axios';\nimport { UserContext } from '../../../../contexts/UserContext';\nimport { Drawer, List, ListItemText } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { Divider } from '@material-ui/core';\nimport Vimeo from '@u-wave/react-vimeo';\nimport LessonStepper from './LessonStepper';\n\nconst useStyles = makeStyles(theme => ({\n    list: {\n        background: '#fff',\n        color: '#4B5563',\n        marginRight: '3rem',\n        borderRadius: '0.75rem',\n        height: '1200px',\n        overflow: 'scroll'\n    },\n    item: {\n        width: '15vw',\n        fontWeight: '700',\n        display: 'flex',\n        justifyContent: 'center',\n        padding: '1.5rem 0 1.5rem 1.5rem',\n        background: 'transparent',\n    },\n    itemRed: {\n        width: '15vw',\n        fontWeight: '700',\n        display: 'flex',\n        justifyContent: 'center',\n        padding: '1.5rem 0 1.5rem 1.5rem',\n        color: 'white',\n        background: '#A5924B',\n    },\n    divider: {\n        width: '90%',\n        margin: '0 5%',\n    },\n}));\n\nconst Lesson = ({ match }) => {\n    const { getUser } = useContext(UserContext);\n    const user = getUser();\n\n    const [lessonData, setLessonData] = useState(null);\n    const [courseData, setCourseData] = useState(null);\n\n    const { lessonId } = match.params\n    const classes = useStyles()\n\n    const fetchLessonData = async (lessonId) => {\n        if (user && user.id !== \"\" && user.id !== null) {\n            try {\n                const result = await httpClient.get(`${process.env.REACT_APP_BACKEND_SERVER}/lessons/${lessonId}`)\n                setLessonData(result.data);\n                const courseResult = await httpClient.get(`${process.env.REACT_APP_BACKEND_SERVER}/courses/${result.data.course.id}`)\n                setCourseData(courseResult.data)\n                console.log(result.data, 'huiiiii')\n            } catch (e) {\n                console.log(e)\n            }\n        }\n    };\n\n    useEffect(() => {\n        fetchLessonData(lessonId);\n    }, []);\n\n    /**events for lessons progress bar */\n    const handleClick = async (event) => {\n        event.target.disabled = true;\n        await updateLessonProgress(event.target.id);\n        event.target.disabled = false;\n    }\n\n    const updateLessonProgress = async (lessonId) => {\n        try {\n            if (user.id != \"\" && user.id != null) {\n                const route = `/user-progresses/${lessonId}/${user.id}`;\n                const { data: dbIsLessonFinished } = await httpClient.get(route);\n                console.log(dbIsLessonFinished, 'dataaaa')\n                if (!dbIsLessonFinished) {\n                    console.log('post progress')\n                    await httpClient.post(route);\n                } else {\n                    console.log('del progress')\n                    await httpClient.delete(route);\n                }\n                await fetchLessonData(lessonId);\n            }\n        } catch (e) {\n            console.log(e)\n        }\n    }\n\n    /**on video end */\n    const handleEnd = async () => {\n        if (!lessonData.finished) {\n            await updateLessonProgress(lessonId);\n        }\n    }\n\n    return (\n        <div className='flex justify-center w-full pb-6'>\n            {lessonData && (\n                <>\n                    <div className='w-4/5 mx-6 bg-white rounded-xl'>\n                        <div className='flex flex-col items-center'>\n                            <div className='flex flex-col items-center justify-center w-full bg-black justify-items-stetch rounded-t-xl'>\n                                <h1 className='py-12 text-3xl text-white'>{courseData && courseData.title}</h1>\n                                {\n                                    lessonData.videoUrl !== '' ? (\n                                        <Vimeo\n                                            video={lessonData.videoUrl}\n                                            playerOptions\n                                            autoplay\n                                            style={{ display: 'flex', flexBasis: '100%' }}\n                                            width='1500'\n                                            height='800'\n                                            onEnd={handleEnd}\n                                        />\n                                    ) : (\n                                        <div>\n                                            <h1 className=\"mb-10 text-3xl font-black text-yellow-500 lg:text-5xl\">暫無影片資料</h1>\n                                        </div>\n                                    )\n                                }\n                            </div>\n                            {courseData && courseData.lessonsDetail &&\n                                <div className='w-full px-4'>\n                                    <LessonStepper\n                                        lessonsDetail={courseData.lessonsDetail}\n                                        lessonId={lessonId}\n                                    />\n                                </div>\n                            }\n                        </div>\n                        <div className='pl-24 pb-9'>\n                            <h2>簡介</h2>\n                            <p className='pr-12 mr-6 overflow-scroll max-h-48'>{lessonData.lessonDescription}</p>\n                        </div>\n                    </div>\n\n                </>\n            )\n            }\n            <List\n                className={`${classes.list}`}\n            >\n                {\n                    courseData && courseData.lessonsDetail.map((lesson, ind) => {\n                        return (\n                            <>\n                                <ListItem\n                                    key={ind}\n                                    className={lessonId == lesson.id ? classes.itemRed : classes.item}\n                                >\n\n                                    <ListItemText\n                                        className={lessonId == lesson.id ? classes.listActive : null}\n                                        primary={\n                                            <>\n                                                <div className='flex'>\n                                                    <div style={{ background: 'rgba(81,54,84,1)' }} className='flex items-center px-4 text-xl font-semibold text-white rounded-lg'>\n                                                        {ind + 1}\n                                                    </div>\n                                                    <div className='flex flex-col pl-4'>\n                                                        <span className={`text-lg`}>\n                                                            <Link to={`/lesson/${lesson.id}`}>\n                                                                {lesson.title}\n                                                            </Link>\n                                                        </span>\n                                                        <span\n                                                            className={lessonId == lesson.id ? 'text-sm text-white' : 'text-sm text-gray-400'}\n                                                        >\n                                                            {lesson.videoDuration}\n                                                        </span>\n                                                    </div>\n                                                </div>\n\n                                            </>\n                                        }\n                                    />\n                                    <ListItemIcon>\n                                        <Checkbox\n                                            color='default'\n                                            edge=\"end\"\n                                            checked={lesson.finished}\n                                            disableRipple\n                                            onChange={handleClick}\n                                            id={lesson.id}\n                                        />\n                                    </ListItemIcon>\n                                </ListItem>\n                                <Divider\n                                    classes={{\n                                        root: classes.divider\n                                    }}\n                                />\n                            </>\n                        )\n                    })\n                }\n            </List>\n        </div>\n    )\n}\n\nexport default withRouter(Lesson);\n","import React, { useState, useEffect, useContext } from 'react';\nimport { httpClient } from '../../../../services/api/axiosHelper';\nimport { UserContext } from '../../../../contexts/UserContext';\nimport Avatar from '@material-ui/core/Avatar';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport DateRangeIcon from '@material-ui/icons/DateRange';\nimport { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n    accountCircleIcon: {\n        width: theme.spacing(5),\n        height: 'auto',\n        margin: theme.spacing(0, 2, 0, 0),\n        color: '#A5924B'\n    },\n    dateIcon: {\n        width: theme.spacing(2),\n        height: 'auto',\n        margin: theme.spacing(0, 1, 0, 1),\n    }\n}));\n\nconst ReferralList = () => {\n    const classes = useStyles();\n    const { getUser } = useContext(UserContext);\n    const user = getUser();\n\n    const [referreeData, setReferreeData] = useState([]);\n    const [referrerData, setReferrerData] = useState([]);\n\n    const fetchReferralData = async () => {\n        try {\n            const result = await httpClient.get(`${process.env.REACT_APP_BACKEND_SERVER}/user-referrals`);\n            const referrees = result.data.filter(data => data.referral_referree.id != user.id);\n            setReferreeData(referrees);\n            const referrers = result.data.filter(data => data.referral_referree.id == user.id);\n            if (referrers) {\n                setReferrerData(referrers);\n            }\n        } catch (e) {\n            console.log(e)\n        }\n    };\n\n    useEffect(() => {\n        fetchReferralData();\n    }, []);\n\n    return (\n        <div>\n            {referrerData.length > 0 ?\n                <><div className='font-semibold text-white'>你的邀請人</div>\n                    {\n                        referrerData.map((referral, key) => {\n                            return (\n                                <div className='flex items-center justify-start p-4 pr-6 my-4 bg-white rounded-lg gap-x-2 w-156' key={`referree-${key}`}>\n                                    <AccountCircleIcon className={classes.accountCircleIcon} />\n                                    <div>\n                                        <div>用戶名稱: {referral.referral_referrer.username}</div>\n                                        <div>邀請日期: {referral.referral_referrer.updated_at.substring(0, 10)}</div>\n                                    </div>\n                                </div>\n                            )\n                        })\n                    }</>\n                :\n                null\n            }\n            {referreeData.length > 0 ?\n                <><div className='font-semibold text-white'>被你邀請的用戶</div>\n                    {referreeData.map((referral, key) => {\n                        return (<div className='flex items-center justify-start p-4 pr-6 my-4 bg-white rounded-lg gap-x-2 w-156' key={`referree-${key}`}>\n                            <AccountCircleIcon className={classes.accountCircleIcon} />\n                            <div>\n                                <div className='py-2 font-semibold text-black'>用戶名稱: {referral.referral_referree.username}</div>\n                                <div className='flex items-center justify-start -ml-2'><DateRangeIcon className={classes.dateIcon} />日期: {referral.referral_referree.updated_at.substring(0, 10)}</div>\n                            </div>\n                        </div>)\n                    })}</>\n                :\n                '你尚未邀請任何用戶加入。'\n            }\n        </div>\n    )\n}\n\nexport default ReferralList\n","import React from 'react'\nimport SchoolIcon from '@material-ui/icons/School';\nimport DateRangeIcon from '@material-ui/icons/DateRange';\nimport { makeStyles } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n    schoolIcon: {\n        width: theme.spacing(5),\n        height: 'auto',\n        margin: theme.spacing(0, 2, 0, 0),\n        color: '#A5924B'\n    },\n    dateIcon: {\n        width: theme.spacing(2),\n        height: 'auto',\n        margin: theme.spacing(0, 1, 0, 1),\n    }\n}));\n\nexport default function OwnedCourse({ purchasedCourses }) {\n    const classes = useStyles();\n    return (\n        <>\n            {\n                purchasedCourses ?\n                    <div>\n                        <div className='font-semibold text-white'>你擁有的課程 </div>\n                        {\n                            purchasedCourses.map((course, index) =>\n                                <>\n                                    <div className='flex items-center justify-start p-4 pr-6 my-4 bg-white rounded-lg w-156' key={`courseName-${index}`}>\n                                        <SchoolIcon className={classes.schoolIcon} />\n                                        <div>\n                                            <div className='py-2 font-semibold text-black'><Link to={`/course/${course.id}`}>課程名稱: {course.title}</Link></div>\n                                            <div className='flex items-center justify-start -ml-2'><DateRangeIcon className={classes.dateIcon} />購買日期: {course.published_at.substring(0, 10)}</div>\n                                        </div>\n                                    </div>\n\n                                </>\n                            )\n                        }\n                    </div>\n                    :\n                    <div>你尚未購買任何課程</div>\n            }\n        </>\n    )\n}\n","import axios from 'axios'\nimport { httpClient } from '../../../../services/api/axiosHelper'\nimport React, { useEffect, useState } from 'react'\nimport jwt from 'jsonwebtoken';\nimport { storeUser, storeToken, getToken, removeToken } from '../../../../services/authService'\nimport { Button, TextField, InputAdornment, Input, InputLabel, FormControl, makeStyles, Divider } from '@material-ui/core';\nimport { FileCopy } from '@material-ui/icons';\nimport PublishIcon from '@material-ui/icons/Publish';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport ReferralList from './referralList';\nimport OwnedCourse from '../OwnedCourse';\n\nconst useStyles = makeStyles((theme) => ({\n    margin: {\n        margin: theme.spacing(1),\n    },\n    copyableLink: {\n        backgroundColor: 'gray'\n    },\n    hoverEffect: {\n        \"&:hover\": {\n            cursor: 'pointer'\n        },\n    },\n    registerLink: {\n    },\n    copyButton: {\n        \"&:hover\": {\n            transform: 'scale(1.2)',\n            color: 'white',\n            cursor: 'pointer'\n        }\n    },\n    input: {\n        display: 'none',\n    },\n    // divider\n    divider: {\n        margin: theme.spacing(3, 0, 3, 0),\n        height: theme.spacing(0.5)\n    }\n}));\n\nfunction UserProfile() {\n    const [userProfile, setUserProfile] = useState(null);\n    const [currentFormData, setFormData] = useState(null);\n    const [purchasedCourses, setPurchasedCourses] = useState(null);\n    useEffect(() => {\n        const fetchUserData = async () => {\n            try {\n                if (currentFormData) {\n                    await httpClient.post('/upload', currentFormData);\n                    setFormData(null);\n                }\n                const user = await httpClient.get(`/users/me`)\n                setUserProfile(user.data);\n            } catch (e) {\n                console.log(e)\n            }\n        }\n        fetchUserData()\n    }, [currentFormData])\n\n    const referralURL = userProfile ? `${process.env.REACT_APP_FRONTEND_SERVER}/signup/${userProfile.referralToken}` : '';\n    const classes = useStyles();\n\n    console.log(userProfile);\n\n    // user icon\n    const handlePicSelect = async (event) => {\n        const formData = new FormData();\n        formData.append('files', event.target.files[0]);\n        formData.append('ref', 'user');\n        formData.append('source', 'users-permissions');\n        formData.append('refId', userProfile.id);\n        formData.append('field', 'profilePicture');\n        setFormData(formData);\n    }\n\n    // courses\n    const fetchUserCourses = async () => {\n        const response = await httpClient.get(`${process.env.REACT_APP_BACKEND_SERVER}/courses`)\n        const data = response.data\n        const purchased = data.filter(item => item.purchased !== false)\n        setPurchasedCourses([...purchased])\n    }\n    useEffect(() => { fetchUserCourses() }, []);\n\n    const handleCopyLink = async (e) => {\n        e.preventDefault();\n        await navigator.clipboard.writeText(referralURL);\n    }\n\n    return (\n        <div className='text-gray-600 '>\n            {/* user info */}\n            <div>\n                {userProfile &&\n                    /** user icon */\n                    <div className='flex flex-col items-center'>\n                        {userProfile.profilePicture ? (\n                            <>\n                                <div className={`${classes.imgDiv} -mr-10 group rounded-full border-2 border-yellow-700 bg-white p-4 absolute top-36 left-50`}>\n                                    <img className={`z-50 w-24 h-24 object-contain opacity-100 group-hover:opacity-0`} src={`${process.env.REACT_APP_BACKEND_SERVER}${userProfile.profilePicture.url}`} />\n                                    <input\n                                        accept=\"image/*\"\n                                        className={`upload-image text-sm absolute top-12 z-50 w-24 object-scale-down opacity-0 focus:outline-none group-hover:opacity-100`}\n                                        id=\"contained-button-file\"\n                                        multiple\n                                        type=\"file\"\n                                        onChange={handlePicSelect}\n                                    />\n                                </div>\n                            </>\n                        ) : (\n                            <>\n                                <div className={`${classes.imgDiv} group rounded-full border-2 border-yellow-700 bg-white p-4 absolute top-36 left-50`}>\n                                    <div className={`w-24 h-24 justify-center items-center object-contain`}>\n                                        <p className={'z-50 top-12 absolute self-center opacity-100 group-hover:opacity-0'}>上載圖片</p>\n                                    </div>\n                                    <input\n                                        accept=\"image/*\"\n                                        className={`upload-image text-sm absolute top-12 z-50 w-24 h-24 object-scale-down opacity-0 focus:outline-none group-hover:opacity-100`}\n                                        id=\"contained-button-file\"\n                                        multiple\n                                        type=\"file\"\n                                        onChange={handlePicSelect}\n                                    />\n                                </div>\n                            </>\n                        )\n                        }\n                        {/* username */}\n                        <div className='flex flex-col pt-48 '>\n                            <div className='flex flex-col items-center'>\n                                <h1 className='-mr-10 text-4xl font-semibold text-white'>\n                                    {userProfile.username}\n                                </h1>\n                                <p className='-mr-10 text-sm text-gray-300'>\n                                    會員名稱\n                                </p>\n                            </div>\n                            <div className='flex py-12 gap-x-24'>\n                                <div className='flex flex-col items-center'>\n                                    <h1 className='text-lg font-semibold text-white'>{userProfile.created_at.substring(0, 10)}</h1>\n                                    <p className='text-sm text-gray-300'>\n                                        註冊日期\n                                 </p>\n                                </div>\n                                <Divider style={{ width: '3px', background: 'white' }} flexItem orientation='vertical' />\n                                <div className='flex flex-col items-center'>\n                                    <h1 className='text-lg font-semibold text-white'> {userProfile.point || 0}</h1>\n                                    <p className='text-sm text-gray-300'>\n                                        獎賞分數\n                                 </p>\n                                </div>\n                                <Divider style={{ width: '3px', background: 'white' }} flexItem orientation='vertical' />\n                                <div className='flex flex-col items-center'>\n                                    <h1 className='text-lg font-semibold text-white'> {userProfile.Membership}</h1>\n                                    <p className='text-sm text-gray-300'>\n                                        \"會員階級\"\n                                 </p>\n                                </div>\n                            </div>\n                        </div>\n\n\n                        {/* referral link */}\n                        <FormControl className={`${classes.hoverEffect} ${classes.registerLink}`}>\n                            <p className='font-semibold text-white'>注冊連結</p>\n                            <div className='flex items-center justify-between p-2 mt-2 bg-white rounded-md w-192'>\n                                {/* icon */}\n                                <div className='flex items-center justify-center'>\n                                    <div className='flex items-center justify-center px-2 border-r-2 border-gray-900'>\n                                        <FileCopy\n                                            className={classes.copyButton} />\n                                    </div>\n                                    {/* link */}\n                                    <p className='max-w-lg p-2 overflow-x-scroll text-gray-600'>\n                                        {referralURL}\n                                    </p>\n                                </div>\n                                {/* copy btn */}\n                                <button className='p-2 text-white bg-blue-500 rounded-xl' onClick={handleCopyLink}>\n                                    複製連結\n                                </button>\n                            </div>\n                        </FormControl>\n                    </div>\n                }\n            </div>\n            <Divider\n                className={classes.divider}\n            />\n            <div className='flex items-start justify-center pb-48 gap-x-8'>\n                <OwnedCourse\n                    purchasedCourses={purchasedCourses}\n                />\n                <ReferralList />\n            </div>\n        </div >\n    )\n}\n\nexport default UserProfile\n\n","\nimport React from 'react'\n\nconst PageNotFound = () => {\n    return (\n        <>\n            <div className=\"relative items-center flex-1 min-w-full min-h-full p-10 text-center text-gray-800 shadow-xl rounded-3xl lg:p-20 md:flex md:text-left\">\n                <div className=\"w-full md:w-1/2\">\n                    <h1 className=\"mb-10 text-3xl font-black text-yellow-500 lg:text-5xl\">您要找的頁面不存在</h1>\n                    <p className='text-white'>請回到上一頁</p>\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default PageNotFound\n","import React, { useEffect, useState } from 'react'\nimport {\n    Link\n} from \"react-router-dom\";\nimport CheckIcon from '@material-ui/icons/Check';\nimport Avatar from '@material-ui/core/Avatar';\nimport { httpClient } from '../../../../services/api/axiosHelper'\nimport queryString from 'query-string'\nimport { useLocation } from 'react-router-dom'\nimport PageNotFound from '../../../404/components/404page'\n\nfunction PaymentSuccess(props) {\n    const params = props.match.params;\n    const { search } = useLocation();\n    const { session_id } = queryString.parse(search);\n    const [data, setData] = useState(null);\n    const [ifSessionIdValid, setIfSessionIdValid] = useState(false);\n    const fetchPaidCourse = async () => {\n        try {\n            await httpClient.get(`/user-payments/${session_id}`);\n            setIfSessionIdValid(true);\n        } catch (e) {\n            setIfSessionIdValid(false);\n        }\n        const result = await httpClient.get(`${process.env.REACT_APP_BACKEND_SERVER}/courses/${params.courseId}`);\n        setData(result.data);\n    }\n\n    useEffect(() => {\n        fetchPaidCourse()\n    }, [])\n    if (ifSessionIdValid) {\n        return (\n            <div className='p-24'>\n                <div className=\"m-auto bg-white w-full md:max-w-4xl rounded-lg shadow\">\n                    <div className=\"h-12 flex justify-center items-center border-b border-gray-200\">\n                    </div>\n                    <div className=\"px-6\">\n                        <div className=\"flex justify-between items-center h-16 p-4 my-6  rounded-lg border border-gray-100 shadow-md\">\n                            <div className=\"flex items-center\">\n                                <Avatar alt=\"Remy Sharp\" className=\"rounded-full h-12 w-12\" >\n                                    <CheckIcon />\n                                </Avatar>\n                                <div className=\"ml-2\">\n                                    <div className=\"text-md font-semibold text-gray-600\">您已成功購買此課程: </div>\n                                    {data && <div className=\"text-md font-semibold text-gray-600\">{data.title}</div>}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"p-6 flex justify-center\">\n                        <Link to={`/course/${params.courseId}`}>\n                            <button\n                                style={{ backgroundColor: '#A5924B' }}\n                                className=\"p-4 hover:bg-green-500 w-full rounded-lg shadow text-xl font-medium uppercase text-white\">\n                                前往課程\n                            </button>\n                        </Link>\n                    </div>\n                </div>\n            </div>\n        )\n    } else {\n        return (\n            <PageNotFound />\n        )\n    }\n}\n\nexport default PaymentSuccess\n","import React, { useState, useEffect } from 'react'\nimport { httpClient } from '../../../../services/api/axiosHelper'\nimport {\n    Link\n} from \"react-router-dom\";\nimport ClearIcon from '@material-ui/icons/Clear';\nimport Avatar from '@material-ui/core/Avatar';\nimport queryString from 'query-string'\nimport { useLocation } from 'react-router-dom'\nimport PageNotFound from '../../../404/components/404page'\n\nfunction PaymentFailure(props) {\n    const params = props.match.params;\n    const { search } = useLocation();\n    const { session_id } = queryString.parse(search);\n    const [ifSessionIdValid, setIfSessionIdValid] = useState(false);\n    const [title, setTitle] = useState(null);\n    const fetchCourse = async () => {\n        try {\n            await httpClient.get(`/user-payments/${session_id}`);\n            setIfSessionIdValid(true);\n        } catch (e) {\n            setIfSessionIdValid(false);\n        }\n        const result = await httpClient.get(`${process.env.REACT_APP_BACKEND_SERVER}/courses/${params.courseId}`);\n        setTitle(result.data.title);\n        console.log(result.data.title, 'fetchPaidCourse');\n    }\n\n    useEffect(() => {\n        fetchCourse()\n    }, [])\n    if (ifSessionIdValid) {\n        return (\n            <div className='p-24'>\n                <div className=\"m-auto bg-white w-full md:max-w-4xl rounded-lg shadow\">\n                    <div className=\"h-12 flex justify-center items-center border-b border-gray-200\">\n                    </div>\n                    <div className=\"px-6\">\n                        <div className=\"flex justify-between items-center h-16 p-4 my-6  rounded-lg border border-gray-100 shadow-md\">\n                            <div className=\"flex items-center\">\n                                <Avatar alt=\"Remy Sharp\" className=\"rounded-full h-12 w-12\" >\n                                    <ClearIcon\n                                        color='error'\n                                    />\n                                </Avatar>\n                                <div className=\"ml-2\">\n                                    <div className=\"text-md font-semibold text-gray-600\">您尚未購買此課程:{title} </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"p-6 flex justify-center\">\n                        <Link to={`/course/${params.courseId}`}>\n                            <button\n                                style={{ backgroundColor: '#A5924B' }}\n                                className=\"p-4 hover:bg-green-500 rounded-lg shadow text-xl uppercase text-white\">\n                                重新購買\n                            </button>\n                        </Link>\n                    </div>\n                </div>\n            </div>\n        )\n    } else {\n        return (\n            <PageNotFound />\n        )\n    }\n\n}\n\nexport default PaymentFailure\n","import React from 'react'\nimport PriorityHighIcon from '@material-ui/icons/PriorityHigh';\n\nfunction ErrorAlert({ children }) {\n    return (\n        <div className=\"mt-4 bg-red-100 border border-red-400 text-sm text-red-700 px-4 py-1 rounded relative\" role=\"alert\">\n            <PriorityHighIcon />\n            <span className=\"block sm:inline\">{children}</span>\n        </div>\n    )\n}\n\nexport default ErrorAlert\n","import React, { useState } from 'react'\nimport axios from 'axios'\nimport { useFormik } from \"formik\";\nimport { Link } from 'react-router-dom';\nimport * as Yup from \"yup\";\nimport ErrorAlert from '../../../utilComponents/ErrorAlert'\n\nfunction ResetPassword(props) {\n    const { resetPasswordToken } = props.match.params;\n    console.log(props.match.params, 'props.match.params')\n    const [backendError, setBackendError] = useState(false)\n    const formik = useFormik({\n        initialValues: {\n            password: '',\n        },\n        validationSchema: Yup.object({\n            password: Yup.string()\n                .min(8, \"請輸入至少8個字母\")\n                .required(\"請輸入密碼\"),\n        }),\n        validateOnBlur: false,\n        onSubmit: async () => {\n            const { password } = formik.values\n            try {\n                if (Object.keys(formik.errors).length === 0) {  \n                    const result = await axios.post(`${process.env.REACT_APP_BACKEND_SERVER}/auth/reset-password`, {\n                        password,\n                        code: resetPasswordToken,\n                    });\n                    console.log(result, 'result')\n                    console.log('data posted')\n                    if (result) {\n                        window.location.href = '/login'\n                    }\n                }\n            } catch (e) {\n                const message = e.response.data.message[0].messages[0].message\n                if (message === '確認碼已經過期') {\n                    setBackendError(true)\n                }\n                console.log(e)\n            }\n        }\n    });\n\n    const handleFocus = () => {\n        setBackendError(false)\n    }\n\n    return (\n        <div>\n            <div className=\"relative z-10 flex items-center justify-center flex-auto px-4 py-16 text-lg text-center text-white sm:px-6 lg:px-8\" >\n                <div className=\"w-full max-w-lg\">\n                    <h1 className=\"mb-2 text-xl font-semibold text-center text-gray-300\">請輸入新密碼</h1>\n                    <form>\n                        <div className=\"relative\">\n                            <input\n                                type='password'\n                                className='block w-full px-3 py-2 text-gray-900 placeholder-gray-400 bg-white border border-transparent rounded-md shadow appearance-none ring-gray-900 ring-opacity-5 ring-1 sm:text-sm focus:border-teal-500 focus:ring-teal-500 focus:outline-none'\n                                name='password'\n                                placeholder='Password'\n                                value={formik.values.password}\n                                onChange={formik.handleChange}\n                                onFocus={handleFocus}\n                            />\n                        </div>\n                        {formik.errors.password && formik.touched.password && <ErrorAlert class=\"text-red-500 text-xs italic\">{formik.errors.password}</ErrorAlert>}\n                        {backendError && <ErrorAlert>此要求已經過期，請<Link to='/forgot-password' className='font-bold'>按此</Link>再發送要求</ErrorAlert>}\n                        <button onClick={formik.handleSubmit} class=\"lock w-full py-2 px-3 border border-transparent rounded-md font-medium bg-gray-700 shadow-sm sm:text-sm mt-4 hover:bg-gray-600 focus:outline-none\">\n                            按此重設\n                         </button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ResetPassword\n","import React, { useState } from 'react'\nimport axios from 'axios'\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\n\nfunction ForgotPassword() {\n    const [emailAlert, setEmailAlert] = useState(false)\n    const formik = useFormik({\n        initialValues: {\n            email: '',\n        },\n        validationSchema: Yup.object({\n            email: Yup.string()\n                .email(\"請輸入正確的電郵格式\")\n                .required(\"請輸入電郵\"),\n        }),\n        validateOnBlur: false,\n        onSubmit: async () => {\n            const { email } = formik.values\n            try {\n                if (Object.keys(formik.errors).length === 0) {\n                    const result = await axios.post(`${process.env.REACT_APP_BACKEND_SERVER}/auth/forgot-password`, {\n                        email,\n                    });\n                    console.log(result, 'result')\n                    if (result.status === 200) {\n                        setEmailAlert(true)\n                    }\n                }\n                console.log('data posted')\n\n            } catch (e) {\n                console.log(e)\n            }\n        }\n    });\n\n    const handleFocus = () => {\n        setEmailAlert(false)\n    }\n\n    return (\n        <div>\n            <div className=\"relative z-10 flex-auto flex items-center justify-center text-lg text-center text-white py-16 px-4 sm:px-6 lg:px-8\" >\n                <div className=\"w-full max-w-lg\">\n                    <h1 className=\"text-center mb-2 text-gray-300 text-xl font-semibold\">重新設定密碼</h1>\n                    <p className=\"text-center text-xl mb-10\">請輸入您的電郵，我們將會發送一個連結到您的電郵。</p>\n\n                    <form>\n                        <div className=\"relative\">\n                            <input\n                                type='text'\n                                name='email'\n                                placeholder='Email'\n                                value={formik.values.email}\n                                onChange={formik.handleChange}\n                                onFocus={handleFocus}\n                                className=\"text-gray-900 ring-gray-900 ring-opacity-5 placeholder-gray-400 appearance-none bg-white rounded-md block w-full px-3 py-2 border border-transparent shadow ring-1 sm:text-sm focus:border-teal-500 focus:ring-teal-500 focus:outline-none\"\n                                placeholder=\"Email address\" />\n                            {\n                                emailAlert && <div className=\"mt-4 flex items-center bg-blue-500 text-white text-sm font-bold px-4 py-3\" role=\"alert\" >\n                                    <p>我們發送了電郵到以上地址，請檢查您的郵件</p>\n                                </div>\n                            }\n                        </div>\n                        <button onClick={formik.handleSubmit} class=\"lock w-full py-2 px-3 border border-transparent rounded-md font-medium bg-gray-700 shadow-sm sm:text-sm mt-4 hover:bg-gray-600 focus:outline-none\">\n                            按此重設\n                         </button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ForgotPassword\n","import './App.css';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n} from 'react-router-dom';\nimport PublicRoute from './services/PublicRoute'\nimport PrivateRoute from './services/PrivateRoute'\nimport AuthRoute from './services/AuthRoute'\nimport { UserContext } from './contexts/UserContext'\nimport { storeToken, getUser } from './services/authService'\nimport Header from './modules/layout/header'\nimport LoginForm from './modules/auth/components/LoginForm'\nimport SignupForm from './modules/auth/components/SignupForm'\nimport Home from './modules/landingPage/components/Home'\nimport Course from './modules/course/components/CourseOverview/course'\nimport AllCourses from './modules/course/components/AllCourses/AllCourses'\nimport MyCourses from './modules/course/components/AllCourses/MyCourses'\nimport Lesson from './modules/lesson/components/LessonPage/Lesson'\nimport UserProfile from './modules/user/components/UserProfile'\nimport UserLayout from './modules/layout/UserLayout'\nimport PaymentSuccess from './modules/course/components/Payment/PaymentSuccess'\nimport PaymentFailure from './modules/course/components/Payment/PaymentFailure'\nimport PageNotFound from './modules/404/components/404page'\nimport ResetPassword from './modules/auth/components/ResetPassword'\nimport ForgotPassword from './modules/auth/components/ForgotPassword'\n\n\nfunction App() {\n\n  return (\n    <div>\n      <Router>\n        <UserContext.Provider value={{ storeToken, getUser }}>\n          <UserLayout>\n            <Switch>\n              <Route exact path='/' component={AllCourses} />\n              <AuthRoute exact path='/login' component={LoginForm} />\n              <AuthRoute exact path='/login/:referralToken' component={LoginForm} />\n              <AuthRoute exact path='/signup' component={SignupForm} />\n              <AuthRoute exact path='/signup/:referralToken' component={SignupForm} />\n              <Route exact path='/course/:courseId' component={Course} />\n              <Route exact path='/forgot-password' component={ForgotPassword} />\n              <Route exact path='/reset-password/:resetPasswordToken' component={ResetPassword} />\n              <PrivateRoute exact path='/my-courses' component={MyCourses} />\n              <PrivateRoute exact path='/lesson/:lessonId' render={props => <Lesson key={props.match.params.lessonId} />} />\n              <PrivateRoute exact path='/user/:userId' component={UserProfile} />\n              <PrivateRoute exact path='/payment-success/:courseId' component={PaymentSuccess} />\n              <PrivateRoute exact path='/payment-failure/:courseId' component={PaymentFailure} />\n              <Route component={PageNotFound} />\n            </Switch>\n          </UserLayout>\n        </UserContext.Provider>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n  ,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}